#VRML_SIM R2025b utf8
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/develop/projects/devices/robotis/protos/RobotisLds01.proto"
PROTO CustomBot [
    field SFVec3f translation 0 0 0
    field SFRotation rotation 0 1 0 0
    field SFString name "custom_robot"
    field SFString controller "<generic>"
    field MFNode extensionSlot [ ]

]
{
    Robot {
        translation IS translation
        rotation IS rotation
        name IS name
        controller IS controller
        children [
            Pose {
                children IS extensionSlot
            }
            HingeJoint {
            jointParameters HingeJointParameters {
                position 0
                axis 1 0 0
                anchor -0.055 -0.01 0
            }
            device [
                RotationalMotor {
                name "left wheel motor"
                }
            ]
            endPoint Solid {
                translation -0.055 -0.01 0
                children [
                DEF WHEEL Transform {
                    rotation 1 0 0 1.5707996938995747
                    children [
                    Shape {
                        appearance PBRAppearance {
                        baseColor 1 0 0
                        roughness 1
                        metalness 0
                        }
                        geometry Mesh {
                            url "meshes/wheel_link.dae"
                        }
                    }
                    ]
                }
                ]
                name "left wheel"
                boundingObject Transform {
                    rotation 0 1 0 1.5708
                    translation 0.005 0 0
                    children [
                        Cylinder {
                            height 0.01
                            radius 0.027
                        }
                    ]
                }
                

                physics Physics {
                }
            }
            }
            HingeJoint {
            jointParameters HingeJointParameters {
                position 0
                axis 1 0 0
                anchor 0.045 -0.01 0
            }
            device [
                RotationalMotor {
                name "right wheel motor"
                }
            ]
            endPoint Solid {
                translation 0.045 -0.01 0
                children [
                USE WHEEL
                ]
                name "right wheel"
                boundingObject Transform {
                    translation 0.005 0 0 
                    rotation 0 1 0 1.5708
                    children [
                        Cylinder {
                            height 0.01
                            radius 0.027
                        }
                    ]
                }
                physics Physics {
                }
            }
            }
            HingeJoint {
            jointParameters HingeJointParameters {
                position 0 
                axis 0 1 0
                anchor 0 -0.1 -0.05
            }
            device [
                RotationalMotor {
                name "test motor"
                }
            ]
            endPoint Solid {
                translation 0 -0.1 -0.05
                children [
                DEF AXLE Transform {
                    rotation 1 0 0 1.5708
                    children [
                    Shape {
                        appearance PBRAppearance {
                        baseColor 1 0 0
                        roughness 1
                        metalness 0
                        }
                        geometry Mesh {
                            url "meshes/axle_link.dae"
                        }
                    }
                    ]
                }
                ]
                name "front axle"
                boundingObject Transform {
                    rotation 1 0 0 1.5708
                    children [
                        Cylinder {
                            height 0.01
                            radius 0.0095
                        }
                    ]
                }
                physics Physics {
                }
            }
            }
            Transform {
                children [
                    Shape {
                        appearance PBRAppearance {
                            baseColor 0 0 1
                            roughness 1
                            metalness 0
                        }
                        geometry DEF BODY Mesh {
                            url "meshes/base_link.dae"
                        }
                    }
                ]
            }
            Camera {
                translation 0 -0.04 -0.02 
                rotation 0.5774 0.5774 -0.5774 2.0944
                width 256
                height 256
                children [
                    DEF CAMERA Transform {
                        children [
                            Shape {
                                appearance PBRAppearance {
                                    baseColor 1 1 0
                                    roughness 1
                                    metalness 0
                                }
                                geometry Cylinder {
                                    height 0.004
                                    radius 0.008
                                }
                            }
                        ]
                    }
                ]
                name "c0"
            }
            Lidar {
                translation 0 -0.05 0 
                rotation 0.5774 0.5774 -0.5774 2.0944
                fieldOfView 3.1415
                children [
                    DEF LIDAR Transform {
                        children [
                            Shape {
                                appearance PBRAppearance {
                                    baseColor 1 1 1
                                    roughness 1
                                    metalness 0
                                }
                                geometry Cylinder {
                                    height 0.004
                                    radius 0.008
                                }
                            }
                        ]
                    }
                ]
                name "ld0"
            }   
        ]
    boundingObject Transform {
        translation 0 -0.015 0
        rotation 1 0 0 1.5708
        children [
        Cylinder {
            height 0.060
            radius 0.075
        }
        ]
    }
    physics Physics {
    }
    }


}
